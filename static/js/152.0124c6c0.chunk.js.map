{"version":3,"file":"static/js/152.0124c6c0.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/modules/ListItems/ListItems.module.scss?763c","components/modules/ListItems/ListItems.jsx","components/modules/shared/api/movies.js","webpack://react-homework-template/./src/components/modules/MoviesSearch/MoviesSearch.module.scss?61e0","components/modules/MoviesSearch/MoviesSearch.jsx","components/pages/MoviesPage/MoviesPage.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"list\":\"ListItems_list__qUKvb\",\"ListItem\":\"ListItems_ListItem__wFJyQ\",\"name\":\"ListItems_name__WKtGe\",\"link\":\"ListItems_link__H9j4C\"};","import { Link, useLocation } from 'react-router-dom';\nimport styles from './ListItems.module.scss';\nimport PropTypes from 'prop-types';\n\nexport default function ListItems({ items }) {\n  const location = useLocation();\n  return (\n    <ul className={styles.list}>\n      {items.map(item => (\n        <li key={item.id} className={styles.ListItem}>\n          <Link\n            to={`/movies/${item.id}`}\n            state={{ from: location }}\n            className={styles.link}\n          >\n            <img\n              src={`https://image.tmdb.org/t/p/w500${item.poster_path}`}\n              alt=\"\"\n            />\n            <p className={styles.name}>{item.original_title || item.name}</p>\n          </Link>\n        </li>\n      ))}\n    </ul>\n  );\n}\n\nListItems.propTypes = {\n  items: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      poster_path: PropTypes.string.isRequired,\n      original_title: PropTypes.string,\n      name: PropTypes.string,\n    })\n  ).isRequired,\n};\n","import axios from 'axios';\n\nconst KEY = '0a221be11a4630df713925aec9466cbd';\n\nconst instance = axios.create({\n  baseURL: `https://api.themoviedb.org/3`,\n});\n\nexport async function getMoviesList() {\n  const { data } = await instance.get(`/trending/all/week?api_key=${KEY}`);\n  return data;\n}\n\nexport async function getMovieItem(id) {\n  const { data } = await instance.get(\n    `/movie/${id}?api_key=${KEY}&language=en-US`\n  );\n  return data;\n}\n\nexport async function getCast(id) {\n  const { data } = await instance.get(\n    `/movie/${id}/credits?api_key=${KEY}&language=en-US`\n  );\n  return data;\n}\n\nexport async function getReviews(id) {\n  const { data } = await instance.get(\n    `/movie/${id}/reviews?api_key=${KEY}&language=en-US&page=1`\n  );\n  return data;\n}\n\nexport async function getSearchMovies(value) {\n  const { data } = await instance.get(\n    `/search/movie?api_key=${KEY}&language=en-US&page=1&include_adult=false&query=${value}`\n  );\n  return data;\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"Searchbar\":\"MoviesSearch_Searchbar__Yf-JR\",\"SearchForm\":\"MoviesSearch_SearchForm__AaucL\",\"SearchFormButton\":\"MoviesSearch_SearchFormButton__Chyv7\",\"SearchFormButtonLabel\":\"MoviesSearch_SearchFormButtonLabel__GVuXe\",\"SearchFormInput\":\"MoviesSearch_SearchFormInput__9Mh9W\"};","import { useState, useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport ListItems from '../ListItems/ListItems';\nimport { getSearchMovies } from '../shared/api/movies';\nimport styles from './MoviesSearch.module.scss';\nimport { Audio } from 'react-loader-spinner';\n\nexport default function MoviesSearch() {\n  const [items, setItems] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [search, setSearch] = useState('');\n  const [valueParams, setValueParams] = useSearchParams();\n\n  const value = valueParams.get('query');\n\n  useEffect(() => {\n    const fetchSearchMovies = async () => {\n      setLoading(true);\n      try {\n        const result = await getSearchMovies(value);\n        setItems(result.results);\n      } catch (error) {\n        setError(error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    if (value) {\n      fetchSearchMovies();\n      setSearch(value);\n    }\n  }, [setError, setItems, setLoading, value]);\n\n  const handleChange = e => {\n    setSearch(e.target.value);\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    setValueParams({ query: search });\n  };\n\n  return (\n    <>\n      <div className={styles.Searchbar}>\n        <form onSubmit={handleSubmit} className={styles.SearchForm}>\n          <input\n            name=\"search\"\n            value={search}\n            onChange={handleChange}\n            className={styles.SearchFormInput}\n          ></input>\n          <button type=\"submit\" className={styles.SearchFormButton}>\n            ../\n          </button>\n        </form>\n      </div>\n      <ListItems items={items} />\n      {loading && <Audio />}\n      {error && <p>Fail ....{error.message}</p>}\n    </>\n  );\n}\n","import MoviesSearch from 'components/modules/MoviesSearch/MoviesSearch';\n\nexport default function MoviesPage() {\n  return <MoviesSearch />;\n}\n"],"names":["ListItems","items","location","useLocation","className","styles","map","item","to","id","state","from","src","poster_path","alt","original_title","name","KEY","instance","axios","baseURL","getMoviesList","get","data","getMovieItem","getCast","getReviews","getSearchMovies","value","MoviesSearch","useState","setItems","loading","setLoading","error","setError","search","setSearch","useSearchParams","valueParams","setValueParams","useEffect","fetchSearchMovies","result","results","onSubmit","e","preventDefault","query","onChange","target","type","message","MoviesPage"],"sourceRoot":""}